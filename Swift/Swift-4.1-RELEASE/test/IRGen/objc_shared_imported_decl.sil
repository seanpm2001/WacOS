// RUN: %target-swift-frontend -primary-file %s -import-objc-header %S/Inputs/usr/include/NSOption.h -emit-ir | %FileCheck %s

// UNSUPPORTED: resilient_stdlib

// REQUIRES: objc_interop

import Swift

sil public @use_witness : $@convention(thin) () -> () {
  %0 = witness_method $SomeOptions, #Equatable."=="!1 : <Self where Self : Equatable> (Self.Type) -> (Self, Self) -> Bool : $@convention(witness_method: Equatable) <τ_0_0 where τ_0_0 : Equatable> (@in τ_0_0, @in τ_0_0, @thick τ_0_0.Type) -> Bool
  %1 = tuple ()
  return %1: $()
}

// We used to emit linkonce_odr llvm linkage for this declaration.
sil_witness_table shared SomeOptions : Equatable module __ObjC

// CHECK: @_T0SC11SomeOptionsVs9EquatableSoWP = external hidden global
